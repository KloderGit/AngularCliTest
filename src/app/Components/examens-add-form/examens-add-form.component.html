<div class="app-page-header center">
  <div class="app-page-title">
    <h1>{{getDiscipline()?.title}}</h1>
  </div>

  <div class="horizontal">
    <div wizard-form [titlesTag]="'h2'" style="width: 70%">
      <ul class="wizard-top-menu">
        <li>Тип экзамена</li>
        <li>Время проведения</li>
        <li>Количество студентов</li>
      </ul>

      <div class="wizard-content-tab">
        <h2 class="wizard-content-title">Шаг первый. Выберете тип экзамена.</h2>
        <div class="wizard-content">
          <form-step1 (onChange)="changeExamenType($event)"></form-step1>
        </div>

        <div class="navigation-button" [style.display]="formObj ? 'flex' : 'none'">
          <button class="app-button app-button-warning" data-wizard-forward>Forward</button>
        </div>
      </div>

      <div class="wizard-content-tab">
        <h2 class="wizard-content-title">Шаг второй 2. Укажите время проведения.</h2>

        <div class="wizard-content" *ngIf="formObj && formObj.type == 'personal'">
          <add-range [date] = "date" (onChange) = "changeRange($event)"></add-range>
        </div>

        <div class="wizard-content" *ngIf="formObj && formObj.type == 'collective'">
          <add-range [date]="date" (onChange)="changeRange($event)"></add-range>
        </div>

        <div class="navigation-button">
          <button class="app-button app-button-warning" data-wizard-forward>Forward</button>
          <button class="app-button app-button-warning" data-wizard-back>Back</button>
        </div>
      </div>

      <div class="wizard-content-tab">

        <h2 class="wizard-content-title" *ngIf="formObj && formObj.type == 'personal'">Шаг третий. Разбить период на экзамены.</h2>
        <h2 class="wizard-content-title" *ngIf="formObj && formObj.type == 'collective'">Шаг третий. Укажите количество студентов в аудитории.</h2>

        <div class="wizard-content" *ngIf="formObj">
          <divide-ranges  [mainObject] = "this.formObj" 
                          [changeTriger] = "changeTrigerForChart"
                          (onChange) = "changeDivideResult($event)"></divide-ranges>
        </div>

        <div class="navigation-button">
          <button class="app-button app-button-warning" data-wizard-back>Back</button>
        </div>

      </div>

    </div>


    <div class="app-panel app-panel-info" style="width: 25%; min-width: 250px;">

      <div class="app-panel-heading">Планирование экзаменов</div>
      <div style="font-size: small" *ngIf="formObj" class="app-panel-body horizontal">


        <div class="info-date">
          <p><strong>Дата проведения:</strong></p>
          <p>{{getDateString()}}</p>
        </div>

        <div class="info-type">
          <p><strong>Тип экзамена/ов:</strong></p>
          <p>{{formObj.type}}</p>
        </div>

        <div class="info-time">
          <p><strong>Время:</strong></p>
          <p> {{formObj.startTime.getHours()}}:{{formatTimeDigit(formObj.startTime.getMinutes())}} - {{formObj.endTime.getHours()}}:{{formatTimeDigit(formObj.endTime.getMinutes())}}
          </p>
        </div>

        <div class="info-range">
          <p><strong>Продолжительность:</strong></p>
          <p *ngIf="formObj.range">{{formObj.range}} мин.</p>
        </div>

        <div class="info-seats">
          <p><strong>Количество студентов:</strong></p>
          <p *ngIf="formObj.getFormResult().length > 0">
            {{ formObj.type == 'personal'? formObj.getFormResult().length : formObj.examensObject.count}} студент/ов
          </p>

          <button [disabled]="formObj.getFormResult().length <= 0" type="button"
                  style="margin: 0 auto;" class="app-button app-button-info"
                  (click)="saveExamens();">Сохранить</button>
        </div>

      </div>
    </div>

<div class="navigation-button" [style.display]="formObj ? 'flex' : 'none'">
  <button class="app-button app-button-warning" data-wizard-forward>Forward</button>
</div>


  </div>


</div>
